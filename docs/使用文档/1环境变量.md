# 扬帆自动化测试平台使用文档——环境变量

## 设计理念

环境变量模块的作用是为了方便在不同的环境中运行测试用例。这是因为在不同的环境中，例如开发环境、测试环境、预生产环境和生产环境，接口的地址、端口号、用户名、密码等参数往往是不同的。

使用环境变量模块，可以将这些参数统一管理，使得在不同的环境中运行测试用例时只需要修改一下配置文件或命令行参数，就能够自动切换到对应的环境。这样就能够提高测试用例的可维护性和复用性，也能够节省测试人员的时间和精力。

为了统一规范，在接口管理、测试套件、测试用例、定时任务中必须设置环境，如未使用环境变量，创建一个没有变量的环境即可

## 结构

1. 环境管理：可以设置多个环境，如：开发环境、测试环境、生产环境等
2. 环境变量：区分不同环境下的数据，key默认以 ***env_*** 开头，key值一经设置后无法进行修改
3. 运行中无法对环境变量进行修改

## 使用

1. 在接口自动化菜单中点击环境变量，点击【环境变量】菜单
2. 在环境变量页面中点击【环境管理】按钮
3. 在弹出的窗口中点击【添加环境】按钮，输入环境名称和备注，点击【保存】按钮
4. 在环境变量列表中选择要添加变量的环境，点击【添加变量】按钮
5. 在弹出的窗口中输入变量key、变量名和各环境的变量值，注意变量名默认以 ***env_*** 开头，并且不能重复
6. 点击【保存】按钮后，可以看到已添加的环境变量列表
7. 在编写测试用例时，可以在请求参数或者断言中使用${env_变量名}来引用环境变量的值
8. 在执行测试用例时，可以在执行配置中选择要使用的环境
9. 在查看测试报告时，可以看到实际使用的环境变量和值
![img.png](http://qiniu.yangfan.gd.cn/image/documents/engmanage.png)
![img.png](http://qiniu.yangfan.gd.cn/image/documents/addvariable.png)
![img.png](http://qiniu.yangfan.gd.cn/image/documents/envlist.png)