(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{482:function(t,s,n){"use strict";n.r(s);var a=n(2),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"创建config对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建config对象"}},[t._v("#")]),t._v(" 创建config对象")]),t._v(" "),s("p",[t._v("我们可以在Go语言中如何设置"),s("code",[t._v("config")]),t._v("。从"),s("code",[t._v("response_test.go")]),t._v("文件中的"),s("code",[t._v("assertRunTestCases")]),t._v("函数中，我们可以看到一种设置方法：")]),t._v(" "),s("ol",[s("li",[t._v("首先，我们通过"),s("code",[t._v("NewConfig")]),t._v("函数创建一个"),s("code",[t._v("config")]),t._v("对象。")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("SetWeight")]),t._v("方法来设置负载测试中的权重，这将影响测试用例的执行频率。")]),t._v(" "),s("li",[t._v("通过"),s("code",[t._v("SetTimeout")]),t._v("方法设置请求的超时时间，确保在指定时间内完成请求。")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("SetHeaders")]),t._v("方法来设置请求头，这可以为请求添加所需的头部信息。")])]),t._v(" "),s("p",[t._v("通过这些步骤，我们可以对"),s("code",[t._v("config")]),t._v("进行设置，以适应不同的测试需求。这种设计模式使得配置测试用例变得非常直观和灵活，可以根据具体的场景来调整参数，从而实现更加精确的测试。深入理解这些设置方法，将帮助我们在编写测试用例时更加得心应手。")]),t._v(" "),s("h2",{attrs:{id:"config-中的链式调用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-中的链式调用"}},[t._v("#")]),t._v(" config 中的链式调用")]),t._v(" "),s("div",{staticClass:"language-go line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("assertRunTestCases")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("testing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("T"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\ttestcase2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("TestCase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TestCase2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetWeight")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    testcase3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("TestCase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TestCase3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetWeight")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetHeaders")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"project"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"扬帆"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("上述的写法属于链式调用，这种写法允许在同一个对象上连续调用多个方法，每个方法的返回值是对象本身的地址引用，从而可以在后续调用中继续使用其他方法。这样的设计使得代码更加简洁和易读。除了"),s("code",[t._v("config")]),t._v("，在测试步骤的"),s("code",[t._v("Step")]),t._v("中也广泛使用了链式调用。")]),t._v(" "),s("h2",{attrs:{id:"链式调用详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#链式调用详解"}},[t._v("#")]),t._v(" 链式调用详解")]),t._v(" "),s("p",[t._v("为了更好地理解链式调用，我们可以通过一个简单的例子来说明。假设我们有一个名为"),s("code",[t._v("IntList")]),t._v("的结构体，它具有"),s("code",[t._v("Add")]),t._v("、"),s("code",[t._v("Double")]),t._v("和"),s("code",[t._v("Print")]),t._v("等方法，同时每个方法都返回IntList对象的地址引用。")]),t._v(" "),s("p",[t._v("当我们调用"),s("code",[t._v("IntList.Add(1).Add(2).Add(3).Double().Print()")]),t._v("时，实际上是在同一个"),s("code",[t._v("IntList")]),t._v("对象上连续调用了三个方法。每个方法的返回值都是该对象的地址引用，所以我们可以在每个方法调用后继续调用下一个方法。")]),t._v(" "),s("p",[t._v("这种设计方式在代码编写和阅读时都非常方便，能够使代码更加紧凑、易读，也减少了临时变量的使用。理解链式调用的核心是每个方法都返回对象本身的地址引用，使得后续方法可以继续在同一个对象上调用。")]),t._v(" "),s("div",{staticClass:"language-go line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fmt"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IntList 表示一个整数切片。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" IntList "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tdata "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Add 向 IntList 中添加一个新元素。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("l "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("IntList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("IntList "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("l"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" l\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Double 将 IntList 中所有元素乘以 2。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("l "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("IntList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Double")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("IntList "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("range")]),t._v(" l"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" l\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Print 打印 IntList 中的元素。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("l "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("IntList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("IntList "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tfmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("l"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" l\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建 IntList 并进行链式调用。")]),t._v("\n\tIntList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("IntList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\tIntList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Double")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br")])]),s("p",[t._v("在上述例子中，我们实现了链式调用，其中关键之处在于每个方法的返回值都是当前对象的指针。在配置中，以及用例的编写中，我们同样使用了链式调用的方式。这种方式在直接编写用例时非常方便，能够让代码更易于理解和编写。")]),t._v(" "),s("p",[t._v("如果我们在平台化的环境中操作，可以根据具体情况决定是否采用链式调用。在用例内部，数据可以被转换成用例格式，因此链式调用并非必须。然而，如果我们进行二次开发，也可以根据具体方案来灵活实现链式调用的需求。")]),t._v(" "),s("h2",{attrs:{id:"config-中的字段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-中的字段"}},[t._v("#")]),t._v(" config 中的字段")]),t._v(" "),s("p",[t._v("在理解了链式调用方法后，我们可以进一步审视配置的内容。基本上，公共配置是相同的，而不同类型的用例（如"),s("code",[t._v("http")]),t._v("、"),s("code",[t._v("websocket")]),t._v("、"),s("code",[t._v("ui")]),t._v("等）的特定配置存放在配置中。在未来，我们还可以考虑将"),s("code",[t._v("MQTT")]),t._v("协议的发布者和订阅者实例放置在这个位置。这种统一的配置方式有助于管理和维护各种不同类型的用例，使得整个框架更加灵活和可扩展。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Name string")]),t._v(": 测试用例的名称，必需字段。")]),t._v(" "),s("li",[s("code",[t._v("Verify bool")]),t._v(": "),s("code",[t._v("https")]),t._v("证书验证参数，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("BaseURL string")]),t._v(": 基础URL，在"),s("code",[t._v("v4.1")]),t._v("版本已废弃，已被移动到"),s("code",[t._v("Environs")]),t._v("字段中，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("Headers map[string]string")]),t._v(": 公共请求头信息，键值对形式的字符串映射，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("Environs map[string]string")]),t._v(": 环境变量，键值对形式的字符串映射，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("Variables map[string]interface{}")]),t._v(": 全局变量，键值对形式的任意类型映射，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("Parameters map[string]interface{}")]),t._v(": 参数，键值对形式的任意类型映射，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("ParametersSetting *TParamsConfig")]),t._v(": 参数设置，一个指向"),s("code",[t._v("TParamsConfig")]),t._v("类型的指针，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("ThinkTimeSetting *ThinkTimeConfig")]),t._v(": 思考时间设置，一个指向"),s("code",[t._v("ThinkTimeConfig")]),t._v("类型的指针，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("WebSocketSetting *WebSocketConfig")]),t._v(": "),s("code",[t._v("WebSocket")]),t._v("设置，一个指向"),s("code",[t._v("WebSocketConfig")]),t._v("类型的指针，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("IOS []*uixt.IOSDevice")]),t._v(": "),s("code",[t._v("iOS")]),t._v("设备配置，一个"),s("code",[t._v("uixt.IOSDevice")]),t._v("类型的切片，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("Android []*uixt.AndroidDevice")]),t._v(": "),s("code",[t._v("Android")]),t._v("设备配置，一个"),s("code",[t._v("uixt.AndroidDevice")]),t._v("类型的切片，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("Timeout float64")]),t._v(": 全局超时时间（单位：秒），可选字段。")]),t._v(" "),s("li",[s("code",[t._v("Export []string")]),t._v(": 导出配置，一个字符串切片，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("Weight int")]),t._v(": 权重，一个整数，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("Path string")]),t._v(": 测试用例文件路径，可选字段。")]),t._v(" "),s("li",[s("code",[t._v("PluginSetting *PluginConfig")]),t._v(": 插件配置，一个指向"),s("code",[t._v("PluginConfig")]),t._v("类型的指针，可选字段。")])]),t._v(" "),s("div",{staticClass:"language-go line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TConfig represents config data structure for testcase.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Each testcase should contain one config part.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" TConfig "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tName              "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"name" yaml:"name"`')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// required")]),t._v("\n\tVerify            "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"verify,omitempty" yaml:"verify,omitempty"`')]),t._v("\n\tBaseURL           "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"base_url,omitempty" yaml:"base_url,omitempty"`')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// deprecated in v4.1, moved to env")]),t._v("\n\tHeaders           "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"headers,omitempty" yaml:"headers,omitempty"`')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// public request headers")]),t._v("\n\tEnvirons          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"environs,omitempty" yaml:"environs,omitempty"`')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// environment variables")]),t._v("\n\tVariables         "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"variables,omitempty" yaml:"variables,omitempty"`')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// global variables")]),t._v("\n\tParameters        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"parameters,omitempty" yaml:"parameters,omitempty"`')]),t._v("\n\tParametersSetting "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("TParamsConfig         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"parameters_setting,omitempty" yaml:"parameters_setting,omitempty"`')]),t._v("\n\tThinkTimeSetting  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("ThinkTimeConfig       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"think_time,omitempty" yaml:"think_time,omitempty"`')]),t._v("\n\tWebSocketSetting  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("WebSocketConfig       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"websocket,omitempty" yaml:"websocket,omitempty"`')]),t._v("\n\tIOS               "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("uixt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IOSDevice      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"ios,omitempty" yaml:"ios,omitempty"`')]),t._v("\n\tAndroid           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("uixt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AndroidDevice  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"android,omitempty" yaml:"android,omitempty"`')]),t._v("\n\tTimeout           "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float64")]),t._v("                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"timeout,omitempty" yaml:"timeout,omitempty"`')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// global timeout in seconds")]),t._v("\n\tExport            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"export,omitempty" yaml:"export,omitempty"`')]),t._v("\n\tWeight            "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("                    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"weight,omitempty" yaml:"weight,omitempty"`')]),t._v("\n\tPath              "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"path,omitempty" yaml:"path,omitempty"`')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// testcase file path")]),t._v("\n\tPluginSetting     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("PluginConfig          "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"plugin,omitempty" yaml:"plugin,omitempty"`')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// plugin config")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br")])]),s("h2",{attrs:{id:"小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("p",[t._v("配置的实现相对简单，我们可以定义一个结构体，并将需要在后续调用中使用的内容存储在配置中。通过使用链式调用的方法，我们可以为配置中的每个字段进行赋值。")]),t._v(" "),s("p",[t._v("在这种设计下，如果未来我们要增加"),s("code",[t._v("MQTT")]),t._v("协议的支持，只需要在配置中增加与"),s("code",[t._v("MQTT")]),t._v("相关的数据即可。")]),t._v(" "),s("p",[t._v("这种统一的配置方式使得我们可以更加灵活地管理不同类型的用例，而且通过链式调用的方式为配置赋值，使得代码更加清晰、易读，也方便后续的拓展和修改。这种设计模式在使得整个框架更加模块化和可扩展的同时，也为后续的功能添加提供了更加便捷的方式。")])])}),[],!1,null,null,null);s.default=e.exports}}]);