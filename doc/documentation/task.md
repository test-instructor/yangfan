## 设计理念

测试平台的定时任务模块能够实现对一个或多个测试用例的定时执行，每个用例之间相互独立，可以并发运行。此外，任务标签的添加为任务分组和管理提供了便利。例如，为一个任务设置多个标签，如订单模块、消息模块等，可根据标签进行运行，快速运行所需定时任务。而定时任务的执行方式，方便了CI/CD的调用，节约了测试人员的时间成本，同时也增强了项目的稳定性和可靠性。

在具体实现上，测试平台的定时任务模块可以选择单个或多个测试用例作为任务执行内容，同时支持对任务的周期性和定时性进行设置，以满足不同需求下的执行要求。任务的执行时间和执行结果都会在测试平台中得到记录和展示，方便了测试人员对测试任务的追踪和管理。除此之外，测试平台还支持对任务的执行频率和执行时长进行控制和优化，提高了任务执行效率。总之，测试平台的定时任务模块为测试人员提供了一个高效稳定的自动化测试工具，有助于提高测试的覆盖率和质量。

### 后续优化

1. CI执行：提供同步返回、异步返回、结果轮询的方式查询测试结果

> * 接口测试中最核心的执行部分
> * 运行配置：定时任务中没有运行配置，根据测试用例中的运行配置去执行，所以用例的数据互不影响
> * 定时任务引用测试用例
> * 并发执行：考虑到执行时间问题，多个用例可以同时执行以节省等待时间
> * 标案运行

### 主要功能

1. 任务详情：对用例引用的`测试用例`进行维护，通过拖动进行排序，因为每个测试用例相对独立，所以执行顺序不会影响接测试结果
2. 添加用例：添加时可以同时添加多个，一个`用例`可以同时添加多次
3. 运行配置：定时任务中没有运行配置，根据测试用例中的运行配置去执行，所以用例的数据互不影响
4. 环境变量：运行时所有用例统一用定时任务所配置的环境变量
5. 定时执行：定时执行为启用状态时，需要填写时间配置
6. 并发执行：考虑到执行时间问题，多个用例可以同时执行以节省等待时间
7. 标签运行：可根据标签进行运行，快速运行所需定时任务

>在定时任务中，运行配置的设置采用了用例设置中的配置，而环境变量则采用定时任务的环境变量。这样设计的初衷是为了让配置不影响到用例的执行。不同的用例所采用的配置可能会不同，比如对于订单模块的用例，需要一个随机不重复的id进行判断，或者调用第三方的用例需要对应的签名信息等。如果将这些配置直接写在定时任务中，就会限制了用例的灵活性和可复用性。通过将配置的设置交给用例自身去完成，可以让用例更加独立和可复用。
>
>相比较而言，环境变量相对比较统一，每次执行定时任务都会在特定的环境下进行，例如测试环境或者生产环境，而一次执行不可能同时执行开发环境、测试环境和生产环境的用例。因此，环境变量的配置可以在定时任务中完成，这样可以保证执行环境的统一性，同时也方便了环境变量的维护和管理。
>
>通过运行配置和环境变量的分离，定时任务模块可以更好地实现用例的独立性和可复用性，同时也可以方便地进行环境变量的管理和维护。这种设计方式能够提高测试平台的可靠性和灵活性，进而提升测试的效率和质量。



> 1. 编辑任务
     >    ![img.png](https://qiniu.yangfan.gd.cn/image/documents/case_add_step.png)
> 2. 任务详情
     >    ![img.png](https://qiniu.yangfan.gd.cn/image/documents/task_detail.png)
> 3. 任务添加测试用例
     >    ![img.png](https://qiniu.yangfan.gd.cn/image/documents/task_add_case.png)

